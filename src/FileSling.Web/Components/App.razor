﻿<!DOCTYPE html>
@using Vite.AspNetCore
@inject IWebHostEnvironment _env
@inject IViteDevServerStatus Vite
@inject IViteManifest ViteManifest

@inject NavigationManager Navigation
@{
    var assemblyName = typeof(App).Assembly.GetName().Name;
    var culture = System.Globalization.CultureInfo.CurrentUICulture.Name;
    var baseUrl = new Uri(Navigation.BaseUri).AbsolutePath;
}

<html lang="@culture">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <base href="@baseUrl" />

    <link rel="icon" href="@Assets["favico.svg"]" />
    
    <link rel="stylesheet" href="@Assets["/lib/font-awesome/css/all.css"]" />

    <link rel="stylesheet" href="@Assets["app.css"]" />
    <link rel="stylesheet" href="@Assets[assemblyName + ".styles.css"]" />

    @if (_env.IsDevelopment())
    {
        <script type="module" src="@Vite.ServerUrlWithBasePath/@@vite/client"></script>
        <script type="module" src="@Vite.ServerUrlWithBasePath/App.ts"></script>
    }
    else
    {
        <script type="module" href="js-client/@ViteManifest["App.ts"]!.File"></script>
    }

    <ImportMap />
    <HeadOutlet />
</head>

<body>
    @if (_env.IsDevelopment())
    {
        <div style="position: fixed; bottom: 0; right: 0; background-color: darkred; color: white;">
            <div class="d-block d-sm-none">XS</div>
            <div class="d-none d-sm-block d-md-none">SM</div>
            <div class="d-none d-md-block d-lg-none">MD</div>
            <div class="d-none d-lg-block d-xl-none">LG</div>
            <div class="d-none d-xl-block d-xxl-none">XL</div>
            <div class="d-none d-xxl-block">XXL</div>
        </div>
    }

    <Routes />
    <script src="_framework/blazor.web.js"></script>
    <script defer src="@Assets["js-client/App.js"]" type="module"></script>
</body>
</html>